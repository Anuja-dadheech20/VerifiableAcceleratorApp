<!--
  @description       : 
  @author            : Anuja Dadheech
  @group             : 
  @last modified on  : 07-25-2022
  @last modified by  : Anuja Dadheech
-->

<template>
  <template if:true={loaded}>
    <!--Heading of the screen-->
    <div class="container slds-p-around_small">
      <div class="slds-text-heading_large slds-p-around_small">
        <b> Liability Insurance </b>
      </div>

      <template
        for:each={liabilityInsuranceArray}
        for:item="each"
        for:index="index"
      >
        <!--Body-->
        <div key={each} class="slds-p-around_small">
          <lightning-layout multiple-rows>
            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="12"
              large-device-size="12"
              class="slds-align_absolute-left"
            >
              <lightning-icon
                class="slds-p-around_x-small"
                data-index={index}
                onclick={removeLiabilityInsurance}
                icon-name="utility:clear"
                alternative-text="Remove"
                title="Remove"
                size="x-small"
              >
              </lightning-icon>
              <span>Liability Insurance</span>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="12"
              large-device-size="12"
              class="slds-p-around_x-small"
            >
              <lightning-combobox
                class="slds-align_absolute-left"
                style="width: 44%"
                data-index={index}
                label="Coverage Type"
                value={each.verifiable__CoverageType__c}
                placeholder="Select Coverage Type"
                options={CoverageType}
                onchange={handleInputBoxChange}
              >
              </lightning-combobox>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <lightning-input
                style="width: 90%"
                data-index={index}
                type="text"
                label="Carrier Name"
                max-length="100"
                value={each.Name}
                onchange={handleInputBoxChange}
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <lightning-input
                style="width: 90%"
                data-index={index}
                type="text"
                label="Policy Number"
                max-length="100"
                value={each.verifiable__PolicyNumber__c}
                onchange={handleInputBoxChange}
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="12"
              large-device-size="12"
              class="slds-p-around_x-small"
            >
              <form>
                <lightning-radio-group
                  data-index={index}
                  label="Self Insured ?"
                  name="radio1"
                  options={optionsForRadioGroup}
                  type="radio"
                  onchange={handleInputBoxChange}
                  value={each.verifiable__IsSelfInsured__c}
                >
                </lightning-radio-group>
              </form>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="4"
              large-device-size="4"
              class="slds-p-around_x-small"
            >
              <lightning-input
                type="date"
                name="Orginal Effective Date"
                data-index={index}
                label="Original Effective Date"
                value={each.verifiable__OriginalEffectiveDate__c}
                onchange={handleInputBoxChange}
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="4"
              large-device-size="4"
              class="slds-p-around_x-small"
            >
              <lightning-input
                type="date"
                name="Current Effective Date"
                data-index={index}
                label="Current Effective Date"
                value={each.verifiable__CurrentEffectiveDate__c}
                onchange={handleInputBoxChange}
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="4"
              large-device-size="4"
            >
              <lightning-input
                class="slds-p-around_x-small"
                data-index={index}
                type="date"
                name="Current Expiration Date"
                label="Current Expiration Date"
                value={each.verifiable__CurrentExpirationDate__c}
                onchange={handleInputBoxChange}
              >
              </lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <form>
                <lightning-radio-group
                  data-index={index}
                  name="radio2"
                  label="Unlimited Coverage ?"
                  options={optionsForRadioGroup}
                  type="radio"
                  onchange={handleInputBoxChange}
                  value={each.verifiable__isUnlimitedCoverage__c}
                >
                </lightning-radio-group>
              </form>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <form>
                <lightning-radio-group
                  data-index={index}
                  name="radio3"
                  label="Includes Tail Coverage ?"
                  options={optionsForRadioGroup}
                  type="radio"
                  onchange={handleInputBoxChange}
                  value={each.verifiable__PolicyIncludesTailCoverage__c}
                >
                </lightning-radio-group>
              </form>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <lightning-input
                type="text"
                data-index={index}
                value={each.verifiable__OccurrenceCoverageAmount__c}
                label="Occurrence Coverage Amount"
                max-length="100"
                onchange={handleInputBoxChange}
                style="width: 90%"
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="6"
              large-device-size="6"
              class="slds-p-around_x-small"
            >
              <lightning-input
                type="text"
                data-index={index}
                value={each.verifiable__AverageCoverageAmount__c}
                label="Aggregate Coverage Amount"
                max-length="100"
                onchange={handleInputBoxChange}
                style="width: 90%"
              ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="12"
              large-device-size="12"
              class="slds-p-around_small"
            >
              <div class="slds-p-around_medium lgc-bg">
                <lightning-input
                  data-index={index}
                  type="file"
                  accept=".doc, .docx, .pdf"
                  label="Certificate Of Insurance"
                  onchange={openfileUpload}
                >
                </lightning-input>
              </div>
            </lightning-layout-item>

            <template if:true={each.fileData}>
              <lightning-layout-item
                size="12"
                small-device-size="12"
                medium-device-size="12"
                large-device-size="12"
                padding="around-small"
              >
                <div class="lgc-bg">
                  <lightning-layout multiple-rows>
                    <lightning-layout-item size="1" padding="around-small">
                      <lightning-icon
                        icon-name="utility:file"
                        alternative-text="File"
                        title="File"
                        size="small"
                      >
                      </lightning-icon>
                    </lightning-layout-item>
                    <lightning-layout-item size="9" padding="around-small">
                      <div class="slds-p-horizontal_xxx-small">
                        <b>{each.fileData.Title}</b>
                        <br />
                        <p class="slds-text-color_weak">{each.fileData.size}</p>
                      </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="2" padding="around-small">
                      <lightning-icon
                        icon-name="utility:clear"
                        data-index={index}
                        alternative-text="Remove"
                        title="Remove"
                        size="x-small"
                        onclick={remove}
                      >
                      </lightning-icon>
                    </lightning-layout-item>
                  </lightning-layout>
                </div>
              </lightning-layout-item>
            </template>
          </lightning-layout>
        </div>
      </template>

      <!--Add Liability Insurance Button-->
      <lightning-button
        label="Add Insurance"
        title="Add Insurance"
        onclick={addLiablityInsurance}
        class="slds-p-around_medium"
      ></lightning-button>
    </div>
  </template>

  <!--Spinner-->
  <template if:false={loaded}>
    <div style="height: 100px">
      <lightning-spinner
        alternative-text="Loading"
        size="medium"
      ></lightning-spinner>
    </div>
  </template>
</template>
